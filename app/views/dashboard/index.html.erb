<% javascript 'https://www.google.com/jsapi' %>
<% @title = "Dashboard" %>
    <script type="text/javascript">

      // Load the Visualization API and the piechart package.
      google.load('visualization', '1.0', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart(batch, position){
        $.each(batch, function(name, summary){
          var data = new google.visualization.DataTable();
          data.addColumn('string', name);
          data.addColumn('number', 'Occurrences');
          $.each(summary, function(k, v){
              data.addRows([[k,v]]);
          });
          var options = {'title':name,
                         'width':450,
                         'height':300};
          var chart = new google.visualization.PieChart(document.getElementById(position+'_'+name+'_chart'));
          chart.draw(data, options);
        });
      }

    </script>

  <div class="row">
    <div class="span6">
      <div>
        <label>Evaluation Owner</label>
        <select name="owner" position="left">
          <option>Me</option>
          <option>Other Teachers</option>
        </select>
        <label>Batch</label>
        <select name="batch" position="left">
          <option>First Two</option>
          <option>Rest</option>
        </select>
        <label>Type of School</label>
        <select name="type_of_school" position="left">
          <option>All</option>
          <option>IB</option>
          <option>US</option>
        </select>
        <label>Course</label>
        <select name="course" position="left">
          <option>All</option>
          <option>Science</option>
          <option>Math</option>
        </select>
        <label>School Year</label>
        <select name="school_year" position="left">
          <option>All</option>
          <option>2012</option>
          <option>2013</option>
        </select>
        <label>Semester</label>
        <select name="semester" position="left">
          <option>All</option>
          <option>Fall</option>
          <option>Summer</option>
        </select>
      </div>
      <div id="left_teacher_chart"></div>
      <div id="left_student_chart"></div>
      <div id="left_grouping_chart"></div>
      <div id="left_topic_chart"></div>
    </div>
    <div class="span6">
      <div>
        <label>Evaluation Owner</label>
        <select name="owner" position="right">
          <option>Me</option>
          <option>Other Teachers</option>
        </select>
        <label>Batch</label>
        <select name="batch" position="right">
          <option>First Two</option>
          <option>Rest</option>
        </select>
        <label>Type of School</label>
        <select name="type_of_school" position="right">
          <option>All</option>
          <option>IB</option>
          <option>US</option>
        </select>
        <label>Course</label>
        <select name="course" position="right">
          <option>All</option>
          <option>Science</option>
          <option>Math</option>
        </select>
        <label>School Year</label>
        <select name="school_year" position="right">
          <option>All</option>
          <option>2012</option>
          <option>2013</option>
        </select>
        <label>Semester</label>
        <select name="semester" position="right">
          <option>All</option>
          <option>Fall</option>
          <option>Summer</option>
        </select>
      </div>
      <div id="right_teacher_chart"></div>
      <div id="right_student_chart"></div>
      <div id="right_grouping_chart"></div>
      <div id="right_topic_chart"></div>
    </div>
  </div>
